Using strings instead of symbols

Thread ID: 2151955260
Total: 4.532369

 %self     total     self     wait    child    calls  name
 17.24      2.04     0.78     0.00     1.73    67868  Array#each
  5.76      0.26     0.26     0.00     0.00        1  Mahoro#file
  4.92      2.22     0.22     0.00     2.00    19888  HandReader#parse
  4.71      4.27     0.21     0.00     4.06        1  IO#each_line
  4.71      0.21     0.21     0.00     0.00    52289  Regexp#match
  4.32      0.30     0.20     0.00     0.10    53488  Redis::Connection::CommandHelper#string_size
  4.31      1.16     0.20     0.00     0.97    22272  Parser#parse
  2.77      0.32     0.13     0.00     0.20    29748  State#update
  2.23      0.42     0.10     0.00     0.32    36364  Parser#match_line
  2.19      0.10     0.10     0.00     0.00    99591  String#to_s
  2.10      0.14     0.10     0.00     0.04    18888  State#criteria_exists?
  1.98      0.82     0.09     0.00     0.73    18888  Parser#process_matches
  1.92      0.09     0.09     0.00     0.00    60488  Fixnum#to_s
  1.91      0.77     0.09     0.00     0.68     7476  ParserForActionState#parse
  1.72      2.35     0.08     0.00     2.27    19888  HandReader#read
  1.66      0.11     0.08     0.00     0.04    12414  Parser#add_fields_to_hand
  1.48      0.07     0.07     0.00     0.00    37099  MatchData#[]
  1.45      0.07     0.07     0.00     0.00    28888  State#get_state_definition
  1.33      0.06     0.06     0.00     0.00    56373  String#eql?
  1.13      0.05     0.05     0.00     0.00    53488  String#bytesize
  0.98      0.13     0.04     0.00     0.09     4001  Hash#each
  0.97      0.07     0.04     0.00     0.02    11720  State#next
  0.97      0.04     0.04     0.00     0.00    22718  MatchData#names
  0.88      0.05     0.04     0.00     0.01     5257  Hand#add_to_seat
  0.85      0.11     0.04     0.00     0.07     8381  ParserForSeatsState#add_fields_to_hand
  0.79      0.04     0.04     0.00     0.00    23263  Hash#[]=
  0.74      0.31     0.03     0.00     0.28     6616  ParserForActionState#add_fields_to_hand
  0.73      0.05     0.03     0.00     0.02    17244  Array#==
  0.70      0.09     0.03     0.00     0.06     4830  Array#include?
  0.60      0.03     0.03     0.00     0.00    22884  String#rstrip!
  0.60      0.03     0.03     0.00     0.00    13721  State#update_name
  0.57      0.03     0.03     0.00     0.00    25696  String#==
  0.56      0.03     0.03     0.00     0.00    22889  Hash#default
  0.56      1.05     0.03     0.00     1.03     2000  Redis::Client#ensure_connected
  0.55      0.02     0.02     0.00     0.00    21885  IO#eof
  0.53      0.02     0.02     0.00     0.00    22884  String#empty?
  0.52      0.07     0.02     0.00     0.05     6000  Array#to_s
  0.51      0.02     0.02     0.00     0.00     2000  IO#write
  0.51      0.02     0.02     0.00     0.00     2002  IO#read
  0.50      0.02     0.02     0.00     0.00    19858  Array#push
  0.49      0.03     0.02     0.00     0.01     1000  Time#initialize
  0.49      0.02     0.02     0.00     0.00     3415  Array#join
  0.49      0.02     0.02     0.00     0.00     2000  IO#gets
  0.47      1.63     0.02     0.00     1.61     1000  Hand#write
  0.46      1.10     0.02     0.00     1.08     2000  Redis::Client#call
  0.46      0.02     0.02     0.00     0.00    12917  String#inspect
  0.44      0.02     0.02     0.00     0.00    18888  Kernel#eql?
  0.44      0.88     0.02     0.00     0.86     2000  Redis::Connection::CommandHelper#build_command
  0.42      1.16     0.02     0.00     1.15     2000  MonitorMixin#mon_synchronize
  0.42      0.02     0.02     0.00     0.00    19245  Kernel#respond_to_missing?
  0.42      0.26     0.02     0.00     0.25     6616  ParserForActionState#format
  0.42      0.04     0.02     0.00     0.02     3830  Array#inspect
  0.41      0.02     0.02     0.00     0.00     7476  State#get_next_regex
  0.37      0.03     0.02     0.00     0.01     2000  MonitorMixin#mon_exit
  0.37      0.02     0.02     0.00     0.00     6000  Fixnum#*
  0.36      0.09     0.02     0.00     0.07     2000  Redis::Connection::Ruby#read
  0.36      0.03     0.02     0.00     0.02     1001  Array#index
  0.34      0.04     0.02     0.00     0.02     1000  Formatter::PstFormatter#game_type
  0.34      0.02     0.02     0.00     0.01     2000  MonitorMixin#mon_enter
  0.33      0.07     0.01     0.00     0.05     1000  Formatter::DefaultFormatter#create_time_field
  0.31      0.01     0.01     0.00     0.00     1000  String#sub!
  0.31      0.02     0.01     0.00     0.00     8000  Kernel#respond_to?
  0.28      0.03     0.01     0.00     0.01     2000  Redis::Connection::Ruby#format_reply
  0.28      0.02     0.01     0.00     0.00     3830  Hand#add_action
  0.27      0.04     0.01     0.00     0.03     1000  Time#to_s
  0.25      0.01     0.01     0.00     0.00     8660  String#[]
  0.24      0.20     0.01     0.00     0.19     1000  Formatter::DefaultFormatter#initialize
  0.23      0.03     0.01     0.00     0.02     1000  HandReader#initialize_site
  0.23      0.01     0.01     0.00     0.00     1000  Array#flatten!
  0.21      0.01     0.01     0.00     0.00     3415  String#split
  0.20      0.91     0.01     0.00     0.90     2000  Redis::Connection::Ruby#write
  0.19      0.01     0.01     0.00     0.00     7000  String#to_i
  0.18      0.10     0.01     0.00     0.09     2000  Redis::Client#read
  0.17      1.06     0.01     0.00     1.05     2000  Redis::Client#logging
  0.17      0.01     0.01     0.00     0.00     3124  Parser#format_seat
  0.15      0.20     0.01     0.00     0.20     2024  Class#new
  0.15      0.13     0.01     0.00     0.12     1000  Hand#add_lists
  0.15      0.01     0.01     0.00     0.01     1000  Rational#round
  0.14      0.01     0.01     0.00     0.00     1000  Hand#reset
  0.14      0.01     0.01     0.00     0.00     2000  Redis::Client#connected?
  0.13      0.08     0.01     0.00     0.07     1000  Hand#add_fields
  0.13      0.01     0.01     0.00     0.00     2000  MonitorMixin#mon_check_owner
  0.13      0.01     0.01     0.00     0.00     6000  <Class::Thread>#current
  0.13      1.07     0.01     0.00     1.06     2000  Redis::Client#process
  0.13      0.21     0.01     0.00     0.20     1000  <Module::Formatter>#get
  0.13      0.12     0.01     0.00     0.11     2000  Formatter::DefaultFormatter#format
  0.13      0.04     0.01     0.00     0.03     1000  State#go_to_summary
  0.12      0.01     0.01     0.00     0.00     5000  String#===
  0.12      0.01     0.01     0.00     0.00     3257  Array#insert
  0.12      0.01     0.01     0.00     0.00     1000  Formatter::PstFormatter#table_max
  0.11      0.00     0.00     0.00     0.00     3830  String#downcase
  0.11      0.04     0.00     0.00     0.04     1000  HandReader#begin_hand
  0.10      0.01     0.00     0.00     0.00     1000  State#reset_current
  0.10      0.01     0.00     0.00     0.01     1000  <Class::Site>#find_from_hh
  0.10      0.00     0.00     0.00     0.00     4000  Kernel#is_a?
  0.09      0.01     0.00     0.00     0.00     2028  Kernel#inspect
  0.09      0.01     0.00     0.00     0.00     1000  Formatter::DefaultFormatter#button
  0.09      0.01     0.00     0.00     0.00     1000  Formatter::DefaultFormatter#table_type
  0.09      0.00     0.00     0.00     0.00     2028  Float#to_s
  0.09      0.01     0.00     0.00     0.00     1000  Formatter::DefaultFormatter#max_bb
  0.09      0.00     0.00     0.00     0.00     4000  Array#first
  0.09      0.00     0.00     0.00     0.00     1000  Hash#to_a
  0.09      0.00     0.00     0.00     0.00     2000  Redis::Connection::Ruby#connected?
  0.09      0.00     0.00     0.00     0.00     3000  Fixnum#divmod
  0.09      1.64     0.00     0.00     1.63     1000  HandReader#end_hand
  0.08      0.00     0.00     0.00     0.00     1000  String#slice!
  0.07      0.00     0.00     0.00     0.00     2028  String#to_f
  0.07      0.96     0.00     0.00     0.96     1000  Redis#hmset
  0.06      0.21     0.00     0.00     0.21     1000  Redis#rpush
  0.06      0.00     0.00     0.00     0.00     1000  Redis::Connection::Ruby#format_integer_reply
  0.06      0.00     0.00     0.00     0.00     1000  Redis::Connection::Ruby#format_status_reply
  0.06      0.00     0.00     0.00     0.00     2000  Symbol#to_s
  0.06      0.00     0.00     0.00     0.00     2000  Fixnum#<=>
  0.06      0.00     0.00     0.00     0.00     2000  Kernel#block_given?
  0.05      0.01     0.00     0.00     0.01     1000  Enumerable#count
  0.05      0.00     0.00     0.00     0.00     2000  Mutex#lock
  0.05      0.00     0.00     0.00     0.00     2000  Mutex#unlock
  0.05      0.00     0.00     0.00     0.00     2000  Bignum#<=>
  0.05      0.00     0.00     0.00     0.00     2000  Fixnum#+
  0.05      0.00     0.00     0.00     0.00     1416  Array#[]
  0.05      0.00     0.00     0.00     0.00     1000  Numeric#quo
  0.05      0.00     0.00     0.00     0.00     2000  Fixnum#-@
  0.04      0.00     0.00     0.00     0.00     1000  Formatter::DefaultFormatter#currency
  0.04      0.00     0.00     0.00     0.00     1000  <Class::Time>#allocate
  0.04      0.00     0.00     0.00     0.00     1000  String#strip
  0.04      0.00     0.00     0.00     0.00     1000  String#strip!
  0.04      0.00     0.00     0.00     0.00     1000  String#include?
  0.03      0.00     0.00     0.00     0.00     1000  Rational#/
  0.03      0.00     0.00     0.00     0.00     1000  <Class::BasicObject>#allocate
  0.02      0.00     0.00     0.00     0.00     1000  Kernel#nil?
  0.02      0.00     0.00     0.00     0.00      876  NilClass#inspect
  0.02      0.00     0.00     0.00     0.00     1000  Fixnum#div
  0.01      0.00     0.00     0.00     0.00      385  NilClass#to_s
  0.01      0.00     0.00     0.00     0.00       23  Regexp#initialize
  0.00      0.00     0.00     0.00     0.00        1  Yajl::Parser#parse
  0.00      0.00     0.00     0.00     0.00        1  Mahoro#initialize
  0.00      0.00     0.00     0.00     0.00       19  Array#map
  0.00      0.00     0.00     0.00     0.00        2  File#initialize
  0.00      4.53     0.00     0.00     4.53        1  HandHistoryParser#read_from_file
  0.00      0.00     0.00     0.00     0.00       43  Kernel#kind_of?
  0.00      0.00     0.00     0.00     0.00        1  <Class::Yajl::Parser>#new
  0.00      4.27     0.00     0.00     4.27        2  <Class::IO>#open
  0.00      0.00     0.00     0.00     0.00       23  <Class::Regexp>#allocate
  0.00      0.00     0.00     0.00     0.00        1  IO#close
  0.00      0.00     0.00     0.00     0.00        1  State#load_definitions
  0.00      0.00     0.00     0.00     0.00        2  HandHistoryParser#full_path
  0.00      0.00     0.00     0.00     0.00        1  State#load_json
  0.00      0.00     0.00     0.00     0.00        3  Hash#keys
  0.00      0.00     0.00     0.00     0.00        1  State#build_states_list
  0.00      0.00     0.00     0.00     0.00        1  State#initialize_regexes
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser#get_access_string
  0.00      0.00     0.00     0.00     0.00        3  State#get_root_definition
  0.00      0.00     0.00     0.00     0.00        1  ParserForActionState#load_definitions
  0.00      0.00     0.00     0.00     0.00        1  <Class::Mahoro>#allocate
  0.00      0.00     0.00     0.00     0.00        1  State#end_state_index
  0.00      0.00     0.00     0.00     0.00        1  State#begin_state_index
  0.00      0.00     0.00     0.00     0.00        2  <Class::IO>#allocate
  0.00      0.00     0.00     0.00     0.00        1  Yajl::Parser#initialize
  0.00      0.00     0.00     0.00     0.00        1  Array#count
  0.00      0.00     0.00     0.00     0.00        1  BasicObject#!=
