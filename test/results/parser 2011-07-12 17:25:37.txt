Hash Redis insertion, 10k hands

Thread ID: 2151955260
Total: 59.722935

 %self     total     self     wait    child    calls  name
 30.43     23.97    18.17     0.00     5.79    29970  Hand#write
 10.43      6.23     6.23     0.00     0.00    76160  HandHistoryParser::ParserForActionState#filter_matches
  9.40      5.61     5.61     0.00     0.00    29970  Hand#redis_id
  6.66      5.22     3.97     0.00     1.24   300920  HandHistoryParser::ParserForDefaultState#match_line
  6.28     12.58     3.75     0.00     8.83   178880  HandHistoryParser::ParserForDefaultState#insert_results
  4.19     59.72     2.50     0.00    57.22        1  HandHistoryFile#read_from_file
  3.94     30.37     2.36     0.00    28.01   198880  HandHistoryParser::Reader#parse
  3.03      4.66     1.81     0.00     2.85   224760  HandHistoryParser::ParserState#update
  2.87      1.71     1.71     0.00     0.00   124140  HandHistoryParser::ParserForDefaultState#add_to_batch
  2.60      1.56     1.56     0.00     0.00   820420  HandHistoryParser::ParserState#name
  2.56      2.31     1.53     0.00     0.78   415040  HandHistoryParser::ParserState#get_state_definition
  2.08      1.24     1.24     0.00     0.00   340920  Regexp#match
  2.01     12.30     1.20     0.00    11.09   140000  HandHistoryParser::ParserForDefaultState#parse
  1.90     32.11     1.14     0.00    30.97   198880  HandHistoryParser::Reader#read
  1.77      2.30     1.06     0.00     1.24   198880  HandHistoryParser::ParserState#criteria_exists?
  1.77     13.98     1.06     0.00    12.93    84760  HandHistoryParser::ParserForActionState#parse
  1.72      1.03     1.03     0.00     0.00   228849  HandHistoryFile#line_has_text?
  0.97      0.58     0.58     0.00     0.00   208880  HandHistoryParser::ParserState#reset_matched
  0.81      0.53     0.48     0.00     0.05    60000  HandHistoryParser::ParserForSeatsState#filter_matches
  0.65      0.75     0.39     0.00     0.36   180620  HandHistoryParser::Reader#match_to_summary_header
  0.65      0.39     0.39     0.00     0.00    10000  HandHistoryParser::Reader#initialize_site
  0.58      2.06     0.35     0.00     1.71   124140  HandHistoryParser::ParserForDefaultState#filter_matches
  0.54      0.32     0.32     0.00     0.00    10000  HandHistoryParser::ParserState#state=
  0.43      0.42     0.26     0.00     0.16    84760  HandHistoryParser::ParserState#get_next_regex
  0.38      0.22     0.22     0.00     0.00   117200  HandHistoryParser::ParserState#next
  0.30      5.79     0.18     0.00     5.61    29970  Hand#key
  0.27      0.16     0.16     0.00     0.00    84760  HandHistoryParser::ParserState#next_state_name
  0.21      0.61     0.13     0.00     0.48    10000  HandHistoryParser::Reader#begin_hand
  0.19     24.08     0.11     0.00    23.97    29970  HandHistoryParser::Reader#end_hand
  0.08      0.05     0.05     0.00     0.00    20000  HandHistoryParser::ParserForDefaultState#format_seat
  0.07      0.05     0.04     0.00     0.01    11240  HandHistoryParser::ParserForSummaryState#insert_results
  0.06      0.36     0.04     0.00     0.32    10000  HandHistoryParser::ParserState#go_to_summary
  0.06      0.07     0.04     0.00     0.03    10000  HandHistoryParser::ParserState#reset_current
  0.04      0.02     0.02     0.00     0.00    10000  Hand#initialize
  0.02      0.01     0.01     0.00     0.00    11240  HandHistoryParser::ParserForSummaryState#filter_matches
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserState#load_json
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserState#convert_match_attributes_to_symbol
  0.00      0.00     0.00     0.00     0.00       25  Regexp#initialize
  0.00      0.00     0.00     0.00     0.00        1  Site#get_file_name
  0.00      0.00     0.00     0.00     0.00        2  File#initialize
  0.00      0.00     0.00     0.00     0.00        1  Time#minus_without_duration
  0.00      0.00     0.00     0.00     0.00        1  ConditionVariable#signal
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserState#begin_state_index
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserState#build_states_list
  0.00      0.00     0.00     0.00     0.00        2  Site#fields
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserState#load_definitions
  0.00      0.00     0.00     0.00     0.00        1  Time#minus_with_coercion
  0.00      0.00     0.00     0.00     0.00        1  Time#minus_with_duration
  0.00      0.00     0.00     0.00     0.00        2  Time#initialize
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserForActionState#load_definitions
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryParser::ParserState#end_state_index
  0.00      0.00     0.00     0.00     0.00        3  HandHistoryParser::ParserState#get_root_definition
  0.00      0.00     0.00     0.00     0.00        1  HandHistoryFile#get_access_string
  0.00      0.00     0.00     0.00     0.00        1  HandHistory